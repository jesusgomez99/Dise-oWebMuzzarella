<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muuuzzarella</title>
    <link rel="stylesheet" href="../../css/carrito.css">
    <link rel="shortcut icon" href="../../multimedia/favicon/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="../../node_modules/bootstrap/dist/css/bootstrap.css">
    <script src="../../node_modules/bootstrap/dist/js/bootstrap.js"></script>
    <script src="../../node_modules/@popperjs/core/dist/umd/popper.js"></script>

    <!-- jQuery (necesario para Bootstrap 4) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Popper.js (necesario para los modales en Bootstrap) -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>

    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>



    <style>
        .contenedor-contador {
          display: flex;
          align-items: center;
        }
    
        .boton {
          padding: 4px;
          background-color: brown;
          color: rgb(255, 255, 255);
          border: none;
          cursor: pointer;
          font-size: 16px;
        }
    
        .boton:hover {
          background-color: rgb(192, 48, 48);
        }
    
        .numero {
          margin: 0 10px;
          font-size: 15px;
          font-weight: bold;
          width: 20px;
          text-align: center;
        }

        .product-image {
            width: 60px;
        }
      </style>

</head>
<body style="background-color: rgb(235, 235, 235);">

    <header>
        <a href="../../index.html"><img src="../../multimedia/logos/logowhite.png" alt="logo"></a>
        <div>
            <a href="../../index.html">Inicio</a>
            <a href="../productos.html">Productos</a>
            <a href="../servicios.html">Servicios</a>
            <a href="../sobrenosotros.html">Sobre nosotros</a>
            <a href="../blog.html">Blog</a>
            <a href="../contacto.html">Contacto</a>
            <a href="./sesion.html"><div id="sesion" class="w-100">Iniciar Sesión</div></a>
            <a href="./carrito.html"><img src="../../multimedia/carrito/carrito.png" alt="carrito" id="carrito"></a>
        </div>
    </header>

    <main class="d-flex flex-colum justify-content-center mx-auto px-3 py-3 p-3 w-100">

        <div class="container mt-5">
            <div class="row mb-4">
                <div class="col-md-6">
                    <h1>Carrito de Compras</h1>
                </div>
                <div class="col-md-6 d-flex justify-content-end align-items-center">
                    <h3 class="me-3 mb-0">Total: <span id="total">0</span>€</h3>
                    <button class="btn btn-primary btn-lg" type="button" data-bs-toggle="modal" data-bs-target="#agradecimientoModal">Pagar</button>
                        <!-- Modal -->
                        <div class="modal fade" id="agradecimientoModal" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="modalLabel">Confirmación</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                                    </div>
                                    <div class="modal-body">
                                        <p>Compra realizada con éxito</p>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                </div>
            </div>
            <div class="table-responsive">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Imagen</th>
                            <th>Producto</th>
                            <th>Cantidad</th>
                            <th>Precio</th>
                            <th>Subtotal</th>
                        </tr>
                    </thead>
                    <tbody id="items">
                        <!-- Los items del carrito se insertarán aquí -->
                    </tbody>
                </table>
            </div>
        </div>
    
        <!-- Bootstrap JS y Popper.js -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <script>
            // Datos de ejemplo para el carrito
            const carrito = [
                { nombre: "Queso Provolone All'Origano Ferrarini 180g", cantidad: 2, precio: 5, imagen: "../../multimedia/productos/provolone-ferrarini.jpg" },
                { nombre: "Mozzarella picada Cantadora Française 2,5kg", cantidad: 5, precio: 31, imagen: "../../multimedia/productos/mozzarella_picada_cantadora.jpg" },
                { nombre: "Mozzarella di Bufala Campana Bufalgaldi 1,5kg", cantidad: 3, precio: 22.5, imagen: "../../multimedia/productos/mozzarella_buffala-campana.jpg" }
            ];
    
            // Función para actualizar el carrito
            function actualizarCarrito() {
                const tbody = document.getElementById('items');
                const totalSpan = document.getElementById('total');
                let total = 0;
    
                tbody.innerHTML = '';
                carrito.forEach(item => {
                    const subtotal = item.cantidad * item.precio;
                    total += subtotal;
                    tbody.innerHTML += `
                        <tr>
                            <td><img src="${item.imagen}" alt="${item.nombre}" class="product-image"></td>
                            <td>${item.nombre}</td>
                            <td>${item.cantidad}</td>
                            <td>${item.precio.toFixed(2)}€</td>
                            <td>${subtotal.toFixed(2)}€</td>
                        </tr>
                    `;
                });
    
                totalSpan.textContent = total.toFixed(2);
            }
    
            // Inicializar el carrito
            actualizarCarrito();
        </script>

    </main>


    <footer>
        <div id="footerlogo">
            <a href="../../index.html"><img src="../../multimedia/logos/logowhite.png" alt="logo"></a>
            <a href="../../index.html"><p>Muuuzzarella</p></a>
        </div>

        <hr>

        <div id="footerinfo">
            <div>
                <h3>Contacto:</h3>
                <p>muuuzarella@gmail.com</p>
                <p>957 65 23 23</p>
            </div>
            <div>
                <h3>Ubicación:</h3>
                <p>Av. Amapola de la Sierra, 88</p>
                <p>14014 - Córdoba</p>            
            </div>
            <div>
                <h3>Condiciones:</h3>
                <p>Condiciones de venta</p>
                <p>Condiciones de entrega</p>   
            </div>
        </div>

        <div id="footerredes">
            <a href="https://www.instagram.com/?hl=es"><img src="../../multimedia/rrss/instagram.png" alt="instagram"></a>
            <a href="https://www.tiktok.com/es/"><img src="../../multimedia/rrss/x.png" alt="x"></a>
            <a href="https://x.com/?lang=es"><img src="../../multimedia/rrss/tiktok.png" alt="tiktok"></a>
        </div>

        <p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/">
            <a property="dct:title" rel="cc:attributionURL" href="https://fanciful-basbousa-f4b557.netlify.app/" style="text-decoration: none; color: brown;">Muzzarella</a> 
            by 
            <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://github.com/jesusgomez99/DisenoWebMuzzarella" style="text-decoration: none; color: brown;">Jesús Gómez</a> 
            está licenciado bajo 
            <a href=" https://creativecommons.org/licenses/by-nc-nd/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block; text-decoration: none; color: brown;" >
                CC BY-NC-ND 4.0
                <img style="height:22px!important; vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1" alt="">
                <img style="height:22px!important; vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1" alt="">
                <img style="height:22px!important; vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1" alt="">
                <img style="height:22px!important; vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nd.svg?ref=chooser-v1" alt="">
            </a>
        </p>

    </footer>

    <script>
        let contador = 0;
    
        function aumentar() {
          contador++;
          document.getElementById('contador').innerText = contador;
        }
    
        function disminuir() {
          if (contador > 0) {  // Asegura que no baje de 0
            contador--;
            document.getElementById('contador').innerText = contador;
          }
        }
    </script>

</body>
</html>